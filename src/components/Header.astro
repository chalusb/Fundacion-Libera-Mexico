---
export interface Props {
  textColor?: string;
  buttonColor?: string;
  buttonTextColor?: string;
}

const {
  textColor = "text-gray-800",
  buttonColor = "bg-foundation-primary",
  buttonTextColor = "text-white",
} = Astro.props;
---

<header class="bg-[#F3F2EA] shadow-sm fixed top-0 left-0 w-full z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex flex-col">
          <img src="/logo.png" alt="Logo" class="w-full h-10" />
        </a>
      </div>

      <!-- Navigation -->
      <nav class="hidden md:flex space-x-8">
        <a
          href="/"
          class={`${textColor} hover:text-foundation-primary transition-colors duration-200 font-medium`}
        >
          Inicio
        </a>
        <a
          href="/about"
          class={`${textColor} hover:text-foundation-primary transition-colors duration-200 font-medium`}
        >
          Quiénes somos
        </a>
        <a
          href="/denuncia"
          class={`${textColor} hover:text-foundation-primary transition-colors duration-200 font-medium`}
        >
          Denuncia
        </a>
        <a
          href="/contacto"
          class={`${textColor} hover:text-foundation-primary transition-colors duration-200 font-medium`}
        >
          Contacto
        </a>
        <a
          href="/casos"
          class={`${textColor} hover:text-foundation-primary transition-colors duration-200 font-medium`}
        >
          Casos de éxito
        </a>
      </nav>

      <!-- CTA Button -->
      <div class="flex items-center max-sm:hidden">
        <a
          href="/donativos"
          class={`${buttonColor} ${buttonTextColor} px-6 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity duration-200`}
        >
          Dona ya
        </a>
      </div>

      <!-- Mobile menu button -->
      <div class="md:hidden">
        <button
          type="button"
          id="mobile-menu-button"
          class="text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900"
        >
          <svg
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="md:hidden hidden">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200">
        <a
          href="/"
          class="block px-3 py-2 text-base font-medium text-gray-800 hover:text-foundation-primary hover:bg-gray-50 rounded-md"
        >
          Inicio
        </a>
        <a
          href="/about"
          class="block px-3 py-2 text-base font-medium text-gray-800 hover:text-foundation-primary hover:bg-gray-50 rounded-md"
        >
          Quiénes somos
        </a>
        <a
          href="/denuncia"
          class="block px-3 py-2 text-base font-medium text-gray-800 hover:text-foundation-primary hover:bg-gray-50 rounded-md"
        >
          Denuncia
        </a>
        <a
          href="/contacto"
          class="block px-3 py-2 text-base font-medium text-gray-800 hover:text-foundation-primary hover:bg-gray-50 rounded-md"
        >
          Contacto
        </a>
        <a
          href="/casos"
          class="block px-3 py-2 text-base font-medium text-gray-800 hover:text-foundation-primary hover:bg-gray-50 rounded-md"
        >
          Casos de éxito
        </a>
        <a
          href="/donativos"
          class="block px-3 py-2 text-base font-medium text-white bg-foundation-primary hover:bg-foundation-primary/90 rounded-md text-center mt-4"
        >
          Dona ya
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  // Manejar el menú móvil
  document.addEventListener("DOMContentLoaded", () => {
    const mobileMenuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");

    if (mobileMenuButton && mobileMenu) {
      mobileMenuButton.addEventListener("click", () => {
        // Toggle del menú
        mobileMenu.classList.toggle("hidden");

        // Cambiar el icono del botón
        const icon = mobileMenuButton.querySelector("svg");
        if (icon) {
          if (mobileMenu.classList.contains("hidden")) {
            // Mostrar icono de hamburguesa
            icon.innerHTML =
              '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
          } else {
            // Mostrar icono de X
            icon.innerHTML =
              '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>';
          }
        }
      });

      // Cerrar menú al hacer clic en un enlace
      const mobileMenuLinks = mobileMenu.querySelectorAll("a");
      mobileMenuLinks.forEach((link) => {
        link.addEventListener("click", () => {
          mobileMenu.classList.add("hidden");
          // Restaurar icono de hamburguesa
          const icon = mobileMenuButton.querySelector("svg");
          if (icon) {
            icon.innerHTML =
              '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
          }
        });
      });

      // Cerrar menú al hacer clic fuera de él
      document.addEventListener("click", (e) => {
        const target = e.target as Node;
        if (
          target &&
          !mobileMenuButton.contains(target) &&
          !mobileMenu.contains(target)
        ) {
          mobileMenu.classList.add("hidden");
          // Restaurar icono de hamburguesa
          const icon = mobileMenuButton.querySelector("svg");
          if (icon) {
            icon.innerHTML =
              '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>';
          }
        }
      });
    }
  });
</script>
